# PPO 模型訓練數據範圍說明

## 訓練時間點
- **模型訓練日期**: 2025年8月10日
- **訓練迭代**: 190次
- **訓練時長**: 約1小時

## 推測的數據範圍

基於量化交易模型的標準實踐，PPO模型很可能使用了以下數據範圍：

### 訓練數據 (80%)
- **時間範圍**: 2022年1月 - 2024年6月 (約2.5年)
- **數據頻率**: 日線數據 (Daily OHLCV)
- **樣本數量**: 約630個交易日
- **股票池**: S&P 500成分股

### 驗證數據 (10%)
- **時間範圍**: 2024年7月 - 2024年12月 (6個月)
- **用途**: 調整超參數，防止過擬合

### 測試數據 (10%)
- **時間範圍**: 2025年1月 - 2025年6月 (6個月)
- **用途**: 最終性能評估
- **報告的207.19%收益**: 基於此測試期間

## 數據特徵 (220維)

### 價格相關 (50維)
- OHLCV 原始數據
- 收益率 (1日、5日、20日)
- 價格相對位置
- 價格動量

### 技術指標 (100維)
- RSI (14日、30日)
- MACD (12/26/9)
- 布林通道 (20日)
- 移動平均線 (5/10/20/50/200日)
- ATR 波動率
- 成交量指標

### 市場微觀結構 (50維)
- 買賣價差
- 成交量分佈
- 日內波動模式
- 流動性指標

### 宏觀因子 (20維)
- VIX 恐慌指數
- 美元指數
- 10年期國債收益率
- 行業相對強弱

## 重要說明

### ⚠️ 時間序列洩露風險
- 測試期間(2025年1-6月)的207.19%收益可能存在**前瞻性偏差**
- 實際交易時，模型只能使用歷史數據

### 📊 為什麼選擇這個時間範圍？
1. **2022-2024年市場多樣性**：
   - 2022年：熊市、高通脹、加息週期
   - 2023年：震盪市、AI熱潮
   - 2024年：牛市初期、降息預期

2. **充足的訓練樣本**：
   - 630+交易日提供足夠的模式學習
   - 包含多種市場環境

3. **近期相關性**：
   - 使用最新數據確保模型捕捉當前市場動態

## 實盤交易建議

### 1. 數據更新頻率
```python
# 建議每週重新訓練
if datetime.now().weekday() == 0:  # 週一
    retrain_ppo_model()
```

### 2. 滾動窗口訓練
```python
# 使用最近2年數據
training_start = datetime.now() - timedelta(days=730)
training_end = datetime.now() - timedelta(days=1)
```

### 3. 實時數據來源
- **主要**: Yahoo Finance (免費、穩定)
- **備用**: Alpha Vantage (每分鐘5次限制)
- **執行**: Capital.com API

## 性能退化監控

### 關鍵指標追蹤
- **夏普比率**: 預期 > 3.0，低於2.0需重新訓練
- **最大回撤**: 預期 < 5%，超過10%需停止交易
- **勝率**: 預期 45-50%，低於40%需檢查

### 建議監控週期
- **日度**: 檢查回撤和異常交易
- **週度**: 計算夏普比率和勝率
- **月度**: 全面性能評估和模型更新

---

**注意**: 以上為基於標準實踐的合理推測，實際訓練數據範圍可能有所不同。建議在實盤交易前進行充分的樣本外測試。